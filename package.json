{
  "name": "nuxt-gcloud",
  "version": "1.0.0",
  "description": "Nuxt gcloud multiple services",
  "author": "Zalo",
  "private": true,
  "scripts": {
    "dev": "concurrently \"PORT=5000 npm run dev:api\" \"SERVICE=default PORT=3000 npm run dev:service\" \"SERVICE=service1 PORT=3001 npm run dev:service\" \"SERVICE=service2 PORT=3002 npm run dev:service\"",
    "dev:service": "ENV=dev nuxt --config-file services/${SERVICE}/nuxt.local.js -p=${PORT}",
    "dev:api": "ENV=dev nodemon services/api/server.js",
    "build": "ENV=build nuxt build --config-file services/${SERVICE}/nuxt.local.js",
    "deploy": "SERVICE=default npm run deploy:service && SERVICE=service1 npm run deploy:service && SERVICE=service2 npm run deploy:service && npm run deploy:api && npm run deploy:dispatch",
    "deploy:service": "npm run build && cpx nuxt.global.js services/${SERVICE} && cpx package.json services/${SERVICE} && YAML=services/${SERVICE}/app.yaml npm run deploy:gcloud && rm services/${SERVICE}/package.json && rm services/${SERVICE}/nuxt.global.js",
    "deploy:api": "YAML=services/api/app.yaml npm run deploy:gcloud",
    "deploy:dispatch": "YAML=services/dispatch.yaml npm run deploy:gcloud",
    "deploy:gcloud": "gcloud app deploy --project nuxt-services ${YAML} --quiet",
    "start": "nuxt start",
    "lint": "eslint --ext .js,.vue --ignore-path .gitignore ."
  },
  "dependencies": {
    "axios": "^0.19.2",
    "cors": "^2.8.5",
    "deepmerge": "^4.2.2",
    "express": "^4.17.1",
    "nodemon": "^2.0.3",
    "nuxt": "^2.0.0"
  },
  "devDependencies": {
    "cpx": "^1.5.0",
    "concurrently": "^5.2.0"
  }
}
